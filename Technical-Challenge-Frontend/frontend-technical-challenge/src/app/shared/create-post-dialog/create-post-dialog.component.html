
<p-dialog [(visible)]="visible" [modal]="true" [style]="{ width: '25rem' }" (onHide)="onHide()">
    <ng-template #header>
        <h2>New Post</h2>
    </ng-template>

    <span class="text-surface-500 dark:text-surface-400 block mb-5">Add Information to create a new post.</span>
    <form [formGroup]="createPostForm" (ngSubmit)="onSubmit()">

        <div class="my-2">
            <div class="flex flex-column">
                <label for="title">Title:</label>
                <input pInputText id="title" formControlName="title" />
            </div>
            <div *ngIf="createPostForm.get('title')?.invalid && createPostForm.get('title')?.touched">
                <small *ngIf="createPostForm.get('title')?.errors?.['required']" class="text-red-700">The title is required.</small>
                <small *ngIf="createPostForm.get('title')?.errors?.['title']" class="text-red-700">Invalidated title.</small>
            </div>
        </div>

        <div class="my-2">
            <div class="flex flex-column">
                <label for="content">Content:</label>
                <textarea pInputTextarea id="content" type="content" formControlName="content" rows="5"></textarea>
            </div>
            <div *ngIf="createPostForm.get('content')?.invalid && createPostForm.get('content')?.touched">
                <small *ngIf="createPostForm.get('content')?.errors?.['required']" class="text-red-700">The content is required.</small>
                <small *ngIf="createPostForm.get('content')?.errors?.['minLength']" class="text-red-700">
                    The content must have at least 8 characters.
                </small>
            </div>
        </div>
        <div class="flex justify-content-center mt-4 gap-3">
            <p-button label="Cancel" [text]="true" severity="secondary" (click)="onClose()" />
            <p-button type="submit" label="Save" [outlined]="true" severity="secondary" [disabled]="createPostForm.invalid" />
        </div>
            
    </form>
    
</p-dialog>

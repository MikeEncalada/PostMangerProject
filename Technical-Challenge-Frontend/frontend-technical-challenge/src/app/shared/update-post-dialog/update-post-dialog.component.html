<ng-template #header>
    <h2>Update Post</h2>
</ng-template>

<span class="text-surface-500 dark:text-surface-400 block mb-5">Add Information to update the post.</span>
<form [formGroup]="updatePostForm" (ngSubmit)="onSubmit()">

    <input type="hidden" pInputText id="id" formControlName="id" />

    <div class="my-2">
        <div class="flex flex-column">
            <label for="title">Title:</label>
            <input pInputText id="title" formControlName="title" cdkFocusInitial />
        </div>
        <div *ngIf="updatePostForm.get('title')?.invalid && updatePostForm.get('title')?.touched">
            <small *ngIf="updatePostForm.get('title')?.errors?.['required']" class="text-red-700">The title is required.</small>
            <small *ngIf="updatePostForm.get('title')?.errors?.['minlength']" class="text-red-700">
                The title must have at least 15 characters.
            </small>
        </div>
    </div>

    <div class="my-2">
        <div class="flex flex-column">
            <label for="content">Content:</label>
            <textarea pInputTextarea id="content" formControlName="content" rows="5"></textarea>
        </div>
        <div *ngIf="updatePostForm.get('content')?.invalid && updatePostForm.get('content')?.touched">
            <small *ngIf="updatePostForm.get('content')?.errors?.['required']" class="text-red-700">The content is required.</small>
            <small *ngIf="updatePostForm.get('content')?.errors?.['minlength']" class="text-red-700">
                The content must have at least 15 characters.
            </small>
        </div>
    </div>
    <div class="flex justify-content-center mt-4 gap-3">
        <p-button label="Cancel" [text]="true" severity="secondary" (onClick)="onClose()" class="w-full" styleClass="w-full"/>
        <p-button type="submit" label="Save" [outlined]="true" [disabled]="updatePostForm.invalid" class="w-full" styleClass="w-full"/>
    </div>
</form>
